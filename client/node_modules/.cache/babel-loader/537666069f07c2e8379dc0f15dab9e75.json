{"ast":null,"code":"var _jsxFileName = \"/Users/arifex/Documents/60Projekte/Ironhack/Projects/mend-v1/client/src/com/Guides/Details.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api';\n\nclass GuideDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      guide: {}\n    };\n\n    this.guideDetails = () => {\n      const id = this.props.match.params.id;\n      getGuide(id).then(response => {\n        this.setState({\n          guide: response.data\n        });\n      });\n    };\n\n    this.deleteProject = () => {\n      const id = this.props.match.params.id;\n      axios.delete(\"http://localhost:5000/api/guides/\".concat(id)).then(response => {\n        // redirects to /guides\n        this.props.history.push(\"/guides\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.guideDetails();\n  }\n\n  render() {\n    const guide = this.state.guide;\n    console.log(this.props);\n    let editBlock = React.createElement(React.Fragment, null);\n\n    if (this.props.user && this.props.user._id === guide.owner) {\n      editBlock = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(EditProject, {\n        guide: guide,\n        getDetails: this.getProject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        className: \"btn btn-danger\",\n        onClick: this.deleteProject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Delete guide\"));\n    }\n\n    console.log(this.state.guide);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, guide.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, guide.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, guide.time), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, guide.rating), guide.steps && guide.steps.length > 0 && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Steps\"), guide.steps && guide.steps.map(step => {\n      return React.createElement(\"div\", {\n        key: step._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/steps/\".concat(step._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, step.title));\n    }), editBlock, React.createElement(AddStep, {\n      guide: guide,\n      getGuide: this.getGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/guides\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Back\"));\n  }\n\n}\n\nexport default GuideDetails;","map":{"version":3,"sources":["/Users/arifex/Documents/60Projekte/Ironhack/Projects/mend-v1/client/src/com/Guides/Details.js"],"names":["React","Link","EditGuide","axios","getGuide","GuideDetails","Component","state","guide","guideDetails","id","props","match","params","then","response","setState","data","deleteProject","delete","history","push","componentDidMount","render","console","log","editBlock","user","_id","owner","getProject","marginTop","title","description","time","rating","steps","length","map","step"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api'\n\nclass GuideDetails extends React.Component {\n     state = {\n          guide: {}\n     };\n\n     guideDetails = () => {\n          const id = this.props.match.params.id;\n\n          getGuide(id)\n               .then(response => {\n                    this.setState({\n                         guide: response.data\n                    });\n               });\n     };\n\n     deleteProject = () => {\n          const id = this.props.match.params.id;\n\n          axios.delete(`http://localhost:5000/api/guides/${id}`).then(response => {\n               // redirects to /guides\n               this.props.history.push(\"/guides\");\n          });\n     };\n\n     componentDidMount() {\n          this.guideDetails();\n     }\n\n     render() {\n          const { guide } = this.state;\n          console.log(this.props);\n\n          let editBlock = <></>;\n\n          if (this.props.user && this.props.user._id === guide.owner) {\n               editBlock = (\n                    <div>\n                         <EditProject guide={guide} getDetails={this.getProject} />\n                         <button\n                              style={{ marginTop: \"10px\" }}\n                              className=\"btn btn-danger\"\n                              onClick={this.deleteProject}\n                         >\n                              Delete guide\n          </button>\n                    </div>\n               );\n          }\n          console.log(this.state.guide)\n          return (\n               <div>\n                    <h1>{guide.title}</h1>\n                    <p>{guide.description}</p>\n                    <p>{guide.time}</p>\n                    <p>{guide.rating}</p>\n\n                    {guide.steps && guide.steps.length > 0 && <h3>Steps</h3>}\n                    {guide.steps &&\n                         guide.steps.map(step => {\n                              return (\n                                   <div key={step._id}>\n                                        <Link to={`/steps/${step._id}`}>{step.title}</Link>\n                                   </div>\n                              );\n                         })}\n\n                    {editBlock}\n\n                    <AddStep guide={guide} getGuide={this.getGuide} />\n                    <br />\n\n                    <Link to=\"/guides\">Back</Link>\n               </div>\n          );\n     }\n}\n\nexport default GuideDetails;\n"]},"metadata":{},"sourceType":"module"}