{"ast":null,"code":"var _jsxFileName = \"/Users/arifex/Documents/60Projekte/Ironhack/Projects/salve-v1/client/src/com/Guides/Details.js\";\nimport React from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api';\nimport { deleteGuide } from '../../service/api';\nimport AddStep from '../Steps/Add';\nimport Like from './Like';\n\nclass GuideDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      guide: {}\n    };\n\n    this.guideDetails = () => {\n      const id = this.props.match.params.id;\n      getGuide(id).then(response => {\n        this.setState({\n          guide: response\n        });\n      });\n    };\n\n    this.removeGuide = () => {\n      const id = this.props.match.params.id;\n      deleteGuide(id).then(res => {\n        // redirects to /guides\n        console.log(res);\n        this.props.history.push(\"/\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.guideDetails();\n  }\n\n  render() {\n    const guide = this.state.guide;\n    console.log(guide, \"this is the guide details\"); //console.log(this.props);\n\n    let editBlock = React.createElement(React.Fragment, null);\n\n    if (this.props.user && this.props.user._id === guide.owner) {\n      editBlock = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      });\n    }\n\n    console.log(this.state.guide);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, guide && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \" \", React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, guide.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, guide.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, guide.time), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, guide.rating), React.createElement(Link, {\n      to: \"/guides/edit/\".concat(guide._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" Edit\"), React.createElement(Like, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.removeGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Remove\"), guide.steps && guide.steps.length > 0 && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Steps\"), guide.steps && guide.steps.map(step => {\n      return React.createElement(\"div\", {\n        key: step._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/steps/\".concat(step._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, step.title));\n    }), editBlock, React.createElement(AddStep, {\n      guide: guide,\n      getGuide: this.getGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/guides\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Back\"), \" \"));\n  }\n\n}\n\nexport default GuideDetails;","map":{"version":3,"sources":["/Users/arifex/Documents/60Projekte/Ironhack/Projects/salve-v1/client/src/com/Guides/Details.js"],"names":["React","Link","Route","EditGuide","axios","getGuide","deleteGuide","AddStep","Like","GuideDetails","Component","state","guide","guideDetails","id","props","match","params","then","response","setState","removeGuide","res","console","log","history","push","componentDidMount","render","editBlock","user","_id","owner","title","description","time","rating","steps","length","map","step"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,KAAf,QAA4B,kBAA5B;AACA,OAAOC,SAAP,MAAsB,QAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,YAAN,SAA2BT,KAAK,CAACU,SAAjC,CAA2C;AAAA;AAAA;AAAA,SACtCC,KADsC,GAC9B;AACHC,MAAAA,KAAK,EAAE;AADJ,KAD8B;;AAAA,SAOtCC,YAPsC,GAOvB,MAAM;AAChB,YAAMC,EAAE,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,EAAnC;AACAT,MAAAA,QAAQ,CAACS,EAAD,CAAR,CACMI,IADN,CACWC,QAAQ,IAAI;AACb,aAAKC,QAAL,CAAc;AACTR,UAAAA,KAAK,EAAEO;AADE,SAAd;AAGJ,OALN;AAMJ,KAfqC;;AAAA,SAkBtCE,WAlBsC,GAkBxB,MAAM;AACf,YAAMP,EAAE,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,EAAnC;AAEAR,MAAAA,WAAW,CAACQ,EAAD,CAAX,CAAgBI,IAAhB,CAAqBI,GAAG,IAAI;AACvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKP,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AAEJ,OALD;AAMJ,KA3BqC;AAAA;;AA6BtCC,EAAAA,iBAAiB,GAAG;AACf,SAAKd,YAAL;AACJ;;AAEDe,EAAAA,MAAM,GAAG;AAAA,UAEIhB,KAFJ,GAEc,KAAKD,KAFnB,CAEIC,KAFJ;AAGJW,IAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAZ,EAAmB,2BAAnB,EAHI,CAIJ;;AAEA,QAAIiB,SAAS,GAAG,yCAAhB;;AAEA,QAAI,KAAKd,KAAL,CAAWe,IAAX,IAAmB,KAAKf,KAAL,CAAWe,IAAX,CAAgBC,GAAhB,KAAwBnB,KAAK,CAACoB,KAArD,EAA4D;AACvDH,MAAAA,SAAS,GACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADL;AAYJ;;AACDN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAWC,KAAvB;AACA,WAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMA,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,KAAK,CAACqB,KAAX,CAAN,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIrB,KAAK,CAACsB,WAAV,CADK,EAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAItB,KAAK,CAACuB,IAAV,CAFK,EAGL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIvB,KAAK,CAACwB,MAAV,CAHK,EAIL,oBAAC,IAAD;AAAM,MAAA,EAAE,yBAAkBxB,KAAK,CAACmB,GAAxB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJK,EAKL,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALK,EAML;AAAQ,MAAA,OAAO,EAAE,KAAKV,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANK,EAOJT,KAAK,CAACyB,KAAN,IAAezB,KAAK,CAACyB,KAAN,CAAYC,MAAZ,GAAqB,CAApC,IAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPrC,EAQJ1B,KAAK,CAACyB,KAAN,IACIzB,KAAK,CAACyB,KAAN,CAAYE,GAAZ,CAAgBC,IAAI,IAAI;AACnB,aACK;AAAK,QAAA,GAAG,EAAEA,IAAI,CAACT,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,oBAAC,IAAD;AAAM,QAAA,EAAE,mBAAYS,IAAI,CAACT,GAAjB,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiCS,IAAI,CAACP,KAAtC,CADL,CADL;AAKJ,KAND,CATA,EAiBJJ,SAjBI,EAmBL,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEjB,KAAhB;AAAuB,MAAA,QAAQ,EAAE,KAAKP,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBK,EAoBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBK,EAsBL,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBK,MADf,CAFL;AA4BJ;;AApFqC;;AAuF3C,eAAeI,YAAf","sourcesContent":["import React from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api'\nimport { deleteGuide } from '../../service/api'\nimport AddStep from '../Steps/Add'\nimport Like from './Like'\n\nclass GuideDetails extends React.Component {\n     state = {\n          guide: {},\n     };\n\n\n\n     guideDetails = () => {\n          const id = this.props.match.params.id;\n          getGuide(id)\n               .then(response => {\n                    this.setState({\n                         guide: response\n                    });\n               });\n     };\n\n\n     removeGuide = () => {\n          const id = this.props.match.params.id;\n\n          deleteGuide(id).then(res => {\n               // redirects to /guides\n               console.log(res)\n               this.props.history.push(\"/\");\n\n          });\n     };\n\n     componentDidMount() {\n          this.guideDetails();\n     }\n\n     render() {\n\n          const { guide } = this.state;\n          console.log(guide, \"this is the guide details\")\n          //console.log(this.props);\n\n          let editBlock = <></>;\n\n          if (this.props.user && this.props.user._id === guide.owner) {\n               editBlock = (\n                    <div>\n                         {/* <EditProject guide={guide} getDetails={this.getProject} /> */}\n                         {/* <button\n                              style={{ marginTop: \"10px\" }}\n                              className=\"btn btn-danger\"\n                              onClick={this.removeGuide}\n                         >\n                              Delete guide\n          </button> */}\n                    </div>\n               );\n          }\n          console.log(this.state.guide)\n          return (\n\n               <div>\n                    {guide && <div> <h1>{guide.title}</h1>\n                         <p>{guide.description}</p>\n                         <p>{guide.time}</p>\n                         <p>{guide.rating}</p>\n                         <Link to={`/guides/edit/${guide._id}`} > Edit</Link>\n                         <Like />\n                         <button onClick={this.removeGuide}>Remove</button>\n                         {guide.steps && guide.steps.length > 0 && <h3>Steps</h3>}\n                         {guide.steps &&\n                              guide.steps.map(step => {\n                                   return (\n                                        <div key={step._id}>\n                                             <Link to={`/steps/${step._id}`}>{step.title}</Link>\n                                        </div>\n                                   );\n                              })}\n\n                         {editBlock}\n\n                         <AddStep guide={guide} getGuide={this.getGuide} />\n                         <br />\n\n                         <Link to=\"/guides\">Back</Link> </div>}\n               </div>\n          );\n     }\n}\n\nexport default GuideDetails;\n"]},"metadata":{},"sourceType":"module"}