{"ast":null,"code":"var _jsxFileName = \"/Users/arifex/Documents/60Projekte/Ironhack/Projects/mend-v1/client/src/com/Guides/Details.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api';\nimport { deleteGuide } from '../../service/api';\nimport AddStep from '../Steps/Add';\n\nclass GuideDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      guide: {}\n    };\n\n    this.guideDetails = () => {\n      const id = this.props.match.params.id;\n      getGuide(id).then(response => {\n        this.setState({\n          guide: response\n        });\n      });\n    };\n\n    this.deleteGuide = () => {\n      const id = this.props.match.params.id;\n      axios.delete(\"http://localhost:5000/api/guides/\".concat(id)).then(response => {\n        // redirects to /guides\n        this.props.history.push(\"/guides\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.guideDetails();\n  }\n\n  render() {\n    const guide = this.state.guide;\n    console.log(guide, \"this is the guide details\"); //console.log(this.props);\n\n    let editBlock = React.createElement(React.Fragment, null);\n\n    if (this.props.user && this.props.user._id === guide.owner) {\n      editBlock = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        className: \"btn btn-danger\",\n        onClick: this.deleteGuide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Delete guide\"));\n    }\n\n    console.log(this.state.guide);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, guide.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, guide.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, guide.time), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, guide.rating), React.createElement(EditGuide, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), guide.steps && guide.steps.length > 0 && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Steps\"), guide.steps && guide.steps.map(step => {\n      return React.createElement(\"div\", {\n        key: step._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/steps/\".concat(step._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, step.title));\n    }), editBlock, React.createElement(AddStep, {\n      guide: guide,\n      getGuide: this.getGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/guides\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Back\"));\n  }\n\n}\n\nexport default GuideDetails;","map":{"version":3,"sources":["/Users/arifex/Documents/60Projekte/Ironhack/Projects/mend-v1/client/src/com/Guides/Details.js"],"names":["React","Link","EditGuide","axios","getGuide","deleteGuide","AddStep","GuideDetails","Component","state","guide","guideDetails","id","props","match","params","then","response","setState","delete","history","push","componentDidMount","render","console","log","editBlock","user","_id","owner","marginTop","title","description","time","rating","steps","length","map","step"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api'\nimport { deleteGuide } from '../../service/api'\nimport AddStep from '../Steps/Add'\n\nclass GuideDetails extends React.Component {\n     state = {\n          guide: {}\n     };\n\n     guideDetails = () => {\n          const id = this.props.match.params.id;\n          getGuide(id)\n               .then(response => {\n                    this.setState({\n                         guide: response\n                    });\n               });\n     };\n\n     deleteGuide = () => {\n          const id = this.props.match.params.id;\n\n          axios.delete(`http://localhost:5000/api/guides/${id}`).then(response => {\n               // redirects to /guides\n               this.props.history.push(\"/guides\");\n          });\n     };\n\n     componentDidMount() {\n          this.guideDetails();\n     }\n\n     render() {\n\n          const { guide } = this.state;\n          console.log(guide, \"this is the guide details\")\n          //console.log(this.props);\n\n          let editBlock = <></>;\n\n          if (this.props.user && this.props.user._id === guide.owner) {\n               editBlock = (\n                    <div>\n                         {/* <EditProject guide={guide} getDetails={this.getProject} /> */}\n                         <button\n                              style={{ marginTop: \"10px\" }}\n                              className=\"btn btn-danger\"\n                              onClick={this.deleteGuide}\n                         >\n                              Delete guide\n          </button>\n                    </div>\n               );\n          }\n          console.log(this.state.guide)\n          return (\n               <div>\n                    <h1>{guide.title}</h1>\n                    <p>{guide.description}</p>\n                    <p>{guide.time}</p>\n                    <p>{guide.rating}</p>\n                    <EditGuide />\n\n                    {guide.steps && guide.steps.length > 0 && <h3>Steps</h3>}\n                    {guide.steps &&\n                         guide.steps.map(step => {\n                              return (\n                                   <div key={step._id}>\n                                        <Link to={`/steps/${step._id}`}>{step.title}</Link>\n                                   </div>\n                              );\n                         })}\n\n                    {editBlock}\n\n                    <AddStep guide={guide} getGuide={this.getGuide} />\n                    <br />\n\n                    <Link to=\"/guides\">Back</Link>\n               </div>\n          );\n     }\n}\n\nexport default GuideDetails;\n"]},"metadata":{},"sourceType":"module"}