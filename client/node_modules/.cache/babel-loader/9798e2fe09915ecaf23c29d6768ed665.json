{"ast":null,"code":"var _jsxFileName = \"/Users/arifex/Documents/60Projekte/Ironhack/Projects/salve-v1/client/src/com/Guides/Details.js\";\nimport React from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api';\nimport { deleteGuide } from '../../service/api';\nimport AddStep from '../Steps/Add';\n\nclass GuideDetails extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      guide: {},\n      likes: 0,\n      updated: false\n    };\n\n    this.updateLikes = () => {\n      if (!this.state.updated) {\n        this.setState((prevState, props) => {\n          return {\n            likes: prevState.likes + 1,\n            updated: true\n          };\n        });\n      } else {\n        this.setState((prevState, props) => {\n          return {\n            likes: prevState.likes - 1,\n            updated: false\n          };\n        });\n      }\n    };\n\n    this.guideDetails = () => {\n      const id = this.props.match.params.id;\n      getGuide(id).then(response => {\n        this.setState({\n          guide: response\n        });\n      });\n    };\n\n    this.removeGuide = () => {\n      const id = this.props.match.params.id;\n      deleteGuide(id).then(res => {\n        // redirects to /guides\n        console.log(res);\n        this.props.history.push(\"/\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.guideDetails();\n  }\n\n  render() {\n    const guide = this.state.guide;\n    console.log(guide, \"this is the guide details\"); //console.log(this.props);\n\n    let editBlock = React.createElement(React.Fragment, null);\n\n    if (this.props.user && this.props.user._id === guide.owner) {\n      editBlock = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      });\n    }\n\n    console.log(this.state.guide);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, guide && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \" \", React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, guide.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, guide.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, guide.time), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, guide.rating), React.createElement(Link, {\n      to: \"/guides/edit/\".concat(guide._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \" Edit\"), React.createElement(\"button\", {\n      onClick: this.updateLikes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Like\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.likes), React.createElement(\"button\", {\n      onClick: this.removeGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Remove\"), guide.steps && guide.steps.length > 0 && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Steps\"), guide.steps && guide.steps.map(step => {\n      return React.createElement(\"div\", {\n        key: step._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/steps/\".concat(step._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, step.title));\n    }), editBlock, React.createElement(AddStep, {\n      guide: guide,\n      getGuide: this.getGuide,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/guides\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Back\"), \" \"));\n  }\n\n}\n\nexport default GuideDetails;","map":{"version":3,"sources":["/Users/arifex/Documents/60Projekte/Ironhack/Projects/salve-v1/client/src/com/Guides/Details.js"],"names":["React","Link","Route","EditGuide","axios","getGuide","deleteGuide","AddStep","GuideDetails","Component","state","guide","likes","updated","updateLikes","setState","prevState","props","guideDetails","id","match","params","then","response","removeGuide","res","console","log","history","push","componentDidMount","render","editBlock","user","_id","owner","title","description","time","rating","steps","length","map","step"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, Route } from \"react-router-dom\";\nimport EditGuide from \"./Edit\";\nimport axios from \"axios\";\nimport { getGuide } from '../../service/api'\nimport { deleteGuide } from '../../service/api'\nimport AddStep from '../Steps/Add'\n\nclass GuideDetails extends React.Component {\n     state = {\n          guide: {},\n          likes: 0,\n          updated: false\n     };\n\n     updateLikes = () => {\n          if (!this.state.updated) {\n               this.setState((prevState, props) => {\n                    return {\n                         likes: prevState.likes + 1,\n                         updated: true\n                    }\n               })\n          } else {\n               this.setState((prevState, props) => {\n                    return {\n                         likes: prevState.likes - 1,\n                         updated: false\n                    }\n               })\n          }\n     }\n\n     guideDetails = () => {\n          const id = this.props.match.params.id;\n          getGuide(id)\n               .then(response => {\n                    this.setState({\n                         guide: response\n                    });\n               });\n     };\n\n\n     removeGuide = () => {\n          const id = this.props.match.params.id;\n\n          deleteGuide(id).then(res => {\n               // redirects to /guides\n               console.log(res)\n               this.props.history.push(\"/\");\n\n          });\n     };\n\n     componentDidMount() {\n          this.guideDetails();\n     }\n\n     render() {\n\n          const { guide } = this.state;\n          console.log(guide, \"this is the guide details\")\n          //console.log(this.props);\n\n          let editBlock = <></>;\n\n          if (this.props.user && this.props.user._id === guide.owner) {\n               editBlock = (\n                    <div>\n                         {/* <EditProject guide={guide} getDetails={this.getProject} /> */}\n                         {/* <button\n                              style={{ marginTop: \"10px\" }}\n                              className=\"btn btn-danger\"\n                              onClick={this.removeGuide}\n                         >\n                              Delete guide\n          </button> */}\n                    </div>\n               );\n          }\n          console.log(this.state.guide)\n          return (\n\n               <div>\n                    {guide && <div> <h1>{guide.title}</h1>\n                         <p>{guide.description}</p>\n                         <p>{guide.time}</p>\n                         <p>{guide.rating}</p>\n                         <Link to={`/guides/edit/${guide._id}`} > Edit</Link>\n                         <button onClick={this.updateLikes}>Like</button>\n                         <p>{this.state.likes}</p>\n                         <button onClick={this.removeGuide}>Remove</button>\n                         {guide.steps && guide.steps.length > 0 && <h3>Steps</h3>}\n                         {guide.steps &&\n                              guide.steps.map(step => {\n                                   return (\n                                        <div key={step._id}>\n                                             <Link to={`/steps/${step._id}`}>{step.title}</Link>\n                                        </div>\n                                   );\n                              })}\n\n                         {editBlock}\n\n                         <AddStep guide={guide} getGuide={this.getGuide} />\n                         <br />\n\n                         <Link to=\"/guides\">Back</Link> </div>}\n               </div>\n          );\n     }\n}\n\nexport default GuideDetails;\n"]},"metadata":{},"sourceType":"module"}